{% extends 'main.html' %}{% block pageTitle %}Catalog{% endblock pageTitle %}
{%block content %}
<section class="section">
  <div class="container">
    <div class="catalog-body">
      <div class="page-title">
        <h1>Catalog: Desktops</h1>
      </div>
      <div class="catalog-filter">
        <a href="#"><i class="fa-solid fa-filter fa-2xl"></i></a>
        <div class="filter-fields">
          <form action="" method="get">
            {{product_filter.form}}
            <input type="submit" value="Apply Filter" id="">
          </form>
        </div>
        
        
      </div>
      <div class="catalog-cards">
        {% for product in  page_obj %}
        <div class="catalog-card">
          <a href="{% url 'product' product.id%}"
            ><div class="item-img">
              <img src="{{product.get_first_image.url}}" alt="" width="200px" height="200px"/>
            </div>
          </a>
          <div class="item-info">
            <a href="{% url 'product' product.id %}"
              ><h2>{{product.name}}</h2></a
            >
            <p>
              Price: <span>{{product.price}} </span><i class="fa-solid fa-ruble-sign"></i>
            </p>
            <div class="item-info-specs">
              {{product.description}}
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <div class="catalog-pagination">
        <ul class="pagination-list">
          {% if  page_obj.has_previous %}
          <li><a href="{{request.get_full_path|truncatechars:7}}&page={{page_obj.previous_page_number}}">«</a></li>
          {% else %}
          <li><a href="#">«</a></li>
          {% endif %}
          {% for page in page_obj.paginator.page_range %}
          {% if 'name' in request.get_full_path %}
          <li><a href="{{request.get_full_path}}&page={{page}}">{{page}}</a></li>
          {% else %}
          <li><a href="?page={{page}}">{{page}}</a></li>
          {% endif %}
          {% endfor %}
          {% if  page_obj.has_next %}
          <li><a href="{{request.get_full_path}}&page={{page_obj.next_page_number}}">»</a></li>{% endif %}
        </ul>
      </div>
    </div>
  </div>
</section>
{% endblock content %}

<li><a class="active" href="#">1</a></li>